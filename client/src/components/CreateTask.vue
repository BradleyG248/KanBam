<template>
  <div class="d-flex flex-column align-items-end">
    <form v-if="form" @submit.prevent>
      <input v-model="newTask.title" type="text" />
      <button class="btn btn-secondary" @click="CreateTask">create task</button>
    </form>
    <button @click="form = !form" class="btn btn-secondary">+</button>
  </div>
</template>

<script>
export default {
  data() {
    return {
      newTask: {
        listId: this.listId,
        boardId: this.boardId,
        authorId: this.$auth.userInfo.email
      },
      form: false
    };
  },
  methods: {
    async CreateTask() {
      console.log(this.newTask);
      await this.$store.dispatch("createTask", this.newTask);
      this.newTask.title = "";
    }
  },
  props: ["listId", "boardId"]
};
</script>

<style>
</style>